<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE: Setting up an OGRE project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo-wetfloor.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OGRE
   &#160;<span id="projectnumber">1.11.1</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('setup.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Setting up an OGRE project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section note"><dt>Note</dt><dd>see <a class="el" href="building-ogre.html">Guide to building OGRE</a> for instructions how to build OGRE itself </dd></dl>
<h1><a class="anchor" id="cmake"></a>
CMake Configuration</h1>
<p><a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> uses CMake as its build system. It is recommended that you use it in your project as well. Then all you need is to add the following lines to your project </p><div class="fragment"><div class="line"><span class="comment"># specify which version and components you need</span></div><div class="line">find_package(OGRE 1.11 REQUIRED COMPONENTS Bites RTShaderSystem)</div><div class="line"></div><div class="line"><span class="comment"># copy resource.cfg next to our binaries where OGRE looks for it</span></div><div class="line">file(COPY ${OGRE_CONFIG_DIR}/resources.cfg DESTINATION ${CMAKE_BINARY_DIR})</div></div><!-- fragment --><p>These settings include all available components and third party libraries OGRE depends on (e.g. boost) - nothing more to do.</p>
<p>If you installed OGRE in a non-standard path, you will have to set <code>OGRE_DIR</code> to the location of <code>OGREConfig.cmake</code> so <code>find_package</code> can figure out the rest.</p>
<p>For inspecting the detected OGRE installation, the following CMake variables are available</p><ul>
<li><code>OGRE_STATIC</code> - whether ogre was build as static lib</li>
<li><code>OGRE_${COMPONENT}_FOUND</code> - ${COMPONENT} is available</li>
<li><code>OGRE_PLUGIN_DIR</code> - The directory where the OGRE plugins are located</li>
<li><code>OGRE_MEDIA_DIR</code> - The directory where the OGRE sample media is located</li>
<li><code>OGRE_CONFIG_DIR</code> - The directory where the OGRE config files are located</li>
</ul>
<h1><a class="anchor" id="skeleton"></a>
Application skeleton</h1>
<p>The easiest way to get started is the <a class="el" href="namespace_ogre_bites.html">OgreBites</a> Component. It handles <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> startup/ tear down (including <a class="el" href="class_ogre_1_1_overlay.html" title="Represents a layer which is rendered on top of the &#39;normal&#39; scene contents. ">Ogre::Overlay</a>, <a class="el" href="rtss.html">RTSS</a>), input using SDL2 and even includes a <a class="el" href="trays.html">Simple GUI System</a>.</p>
<p>This is useful if all you want is to get a Scene with a FPS counter up and running (rapid prototyping). If available it also uses SDL2 for input - you now just have to implement the callbacks.</p>
<p>To use it, simply derive from <a class="el" href="class_ogre_bites_1_1_application_context.html" title="Base class responsible for setting up a common context for applications. ">OgreBites::ApplicationContext</a> and if you want to get input events from <a class="el" href="struct_ogre_bites_1_1_input_listener.html" title="the return values of the callbacks are ignored by ApplicationContext however they can be used to cont...">OgreBites::InputListener</a></p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyTestApp : <span class="keyword">public</span> <a class="code" href="class_ogre_bites_1_1_application_context.html">OgreBites::ApplicationContext</a>, <span class="keyword">public</span> <a class="code" href="struct_ogre_bites_1_1_input_listener.html">OgreBites::InputListener</a></div><div class="line">{</div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><p> in the constructor we set our application name. The ogre configuration files will be stored in a system dependant location specific to our app. </p><div class="fragment"><div class="line">MyTestApp::MyTestApp() : <a class="code" href="namespace_ogre_bites.html">OgreBites</a>::ApplicationContext(<span class="stringliteral">&quot;OgreTutorialApp&quot;</span>)</div><div class="line">{</div><div class="line">}</div></div><!-- fragment --><p> to handle input events, we then override the according method </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> MyTestApp::keyPressed(<span class="keyword">const</span> <a class="code" href="struct_ogre_bites_1_1_keyboard_event.html">OgreBites::KeyboardEvent</a>&amp; evt)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (evt.<a class="code" href="struct_ogre_bites_1_1_keyboard_event.html#a675789f0663c8e7c8ac38db339a98a60">keysym</a>.<a class="code" href="struct_ogre_bites_1_1_keysym.html#a0174848a10c2790beb05a3f21317a5c3">sym</a> == <a class="code" href="namespace_ogre_bites.html#a11a908bf018cb8a7c20b6ea359a928b5a02467a4c39b543a4c53cbfd192837cfc">OgreBites::SDLK_ESCAPE</a>)</div><div class="line">    {</div><div class="line">        getRoot()-&gt;queueEndRendering();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></div><!-- fragment --><p> the interesting part however is the setup method </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> MyTestApp::setup(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">// do not forget to call the base first</span></div><div class="line">    <a class="code" href="class_ogre_bites_1_1_application_context.html#ad2bfdfa72c9d95e55657854c2094c610">OgreBites::ApplicationContext::setup</a>();</div><div class="line">    </div><div class="line">    <span class="comment">// register for input events</span></div><div class="line">    addInputListener(<span class="keyword">this</span>);</div><div class="line"></div><div class="line">    <span class="comment">// get a pointer to the already created root</span></div><div class="line">    <a class="code" href="class_ogre_1_1_root.html">Ogre::Root</a>* root = getRoot();</div><div class="line">    <a class="code" href="class_ogre_1_1_scene_manager.html">Ogre::SceneManager</a>* scnMgr = root-&gt;<a class="code" href="class_ogre_1_1_root.html#a8bb8655f823a98007775f69278c1b0f9">createSceneManager</a>();</div><div class="line"></div><div class="line">    <span class="comment">// register our scene with the RTSS</span></div><div class="line">    <a class="code" href="class_ogre_1_1_r_t_shader_1_1_shader_generator.html">Ogre::RTShader::ShaderGenerator</a>* shadergen = <a class="code" href="class_ogre_1_1_r_t_shader_1_1_shader_generator.html#acd96bb2cad55be69d0fe8c6dc28d3590">Ogre::RTShader::ShaderGenerator::getSingletonPtr</a>();</div><div class="line">    shadergen-&gt;<a class="code" href="class_ogre_1_1_r_t_shader_1_1_shader_generator.html#a60704776c069e2a6bd37692f88c56815">addSceneManager</a>(scnMgr);</div><div class="line"></div><div class="line">    <span class="comment">// without light we would just get a black screen    </span></div><div class="line">    <a class="code" href="class_ogre_1_1_light.html">Ogre::Light</a>* light = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#ab127d52207729591dd51cb12a5b2ed2c">createLight</a>(<span class="stringliteral">&quot;MainLight&quot;</span>);</div><div class="line">    <a class="code" href="class_ogre_1_1_scene_node.html">Ogre::SceneNode</a>* lightNode = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a854ef69f989aadd1da0bd79a61f88f9e">getRootSceneNode</a>()-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#aeaee9cb1cb0c23fab2cc9bab08f51181">createChildSceneNode</a>();</div><div class="line">    lightNode-&gt;<a class="code" href="class_ogre_1_1_node.html#a72e58d4789cfe29e4538399b4250ce5a">setPosition</a>(0, 10, 15);</div><div class="line">    lightNode-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#a51052c58747a77a6cf7451b700e7eb87">attachObject</a>(light);</div><div class="line"></div><div class="line">    <span class="comment">// also need to tell where we are</span></div><div class="line">    <a class="code" href="class_ogre_1_1_scene_node.html">Ogre::SceneNode</a>* camNode = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a854ef69f989aadd1da0bd79a61f88f9e">getRootSceneNode</a>()-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#aeaee9cb1cb0c23fab2cc9bab08f51181">createChildSceneNode</a>();</div><div class="line">    camNode-&gt;<a class="code" href="class_ogre_1_1_node.html#a72e58d4789cfe29e4538399b4250ce5a">setPosition</a>(0, 0, 15);</div><div class="line">    camNode-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#a665c4750906917dd061b141c03d432de">lookAt</a>(<a class="code" href="class_ogre_1_1_vector3.html">Ogre::Vector3</a>(0, 0, -1), <a class="code" href="class_ogre_1_1_node.html#ac42e2063379286eb673eaffff6ca5e99a34e6c3ebabc2e9fa00de4f62be0ce7ce">Ogre::Node::TS_PARENT</a>);</div><div class="line"></div><div class="line">    <span class="comment">// create the camera</span></div><div class="line">    <a class="code" href="class_ogre_1_1_camera.html">Ogre::Camera</a>* cam = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a62ca781b4c6d23dc3aab1f3a45d61843">createCamera</a>(<span class="stringliteral">&quot;myCam&quot;</span>);</div><div class="line">    cam-&gt;<a class="code" href="class_ogre_1_1_frustum.html#a7bc8b601d85642059f23e739fb4438bb">setNearClipDistance</a>(5); <span class="comment">// specific to this sample</span></div><div class="line">    cam-&gt;<a class="code" href="class_ogre_1_1_camera.html#aac250bb57c630543b8241bfc8eb8b88a">setAutoAspectRatio</a>(<span class="keyword">true</span>);</div><div class="line">    camNode-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#a51052c58747a77a6cf7451b700e7eb87">attachObject</a>(cam);</div><div class="line"></div><div class="line">    <span class="comment">// and tell it to render into the main window</span></div><div class="line">    getRenderWindow()-&gt;addViewport(cam);</div><div class="line"></div><div class="line">    <span class="comment">// finally something to render</span></div><div class="line">    <a class="code" href="class_ogre_1_1_entity.html">Ogre::Entity</a>* ent = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#afb393cca49de8b928f7dd60838047185">createEntity</a>(<span class="stringliteral">&quot;Sinbad.mesh&quot;</span>);</div><div class="line">    <a class="code" href="class_ogre_1_1_scene_node.html">Ogre::SceneNode</a>* node = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a854ef69f989aadd1da0bd79a61f88f9e">getRootSceneNode</a>()-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#aeaee9cb1cb0c23fab2cc9bab08f51181">createChildSceneNode</a>();</div><div class="line">    node-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#a51052c58747a77a6cf7451b700e7eb87">attachObject</a>(ent);</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The above code is explained in detail in <a class="el" href="tut__first_scene.html">Your First Scene</a>.</dd></dl>
<p>finally we start everything as </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div><div class="line">{</div><div class="line">    MyTestApp app;</div><div class="line">    app.initApp();</div><div class="line">    app.getRoot()-&gt;startRendering();</div><div class="line">    app.closeApp();</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>You can find the full code of the above example at<ul>
<li><code>Samples/Tutorials/Bootstrap.cpp</code> for C++</li>
<li><code>Samples/Python/bites_sample.py</code> for Python</li>
<li><code>Samples/AndroidJNI/MainActivity.java</code> for Java (Android)</li>
</ul>
</dd></dl>
<p><a class="el" href="namespace_ogre_bites.html">OgreBites</a> itself is also a good starting point if you need more control over the Camera or the Window creation. For instance to render into an existing Qt Window.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_ogre_1_1_root.html#aeaad25268c0ad8007ce8961a32242c77" title="Updates all the render targets automatically. ">Ogre::Root::renderOneFrame</a> </dd>
<dd>
<a class="el" href="class_ogre_1_1_render_system.html#aaf156b9f935396e6c17f532f6e6c847e" title="Creates a new rendering window. ">Ogre::RenderSystem::_createRenderWindow</a> </dd>
<dd>
<a class="el" href="class_ogre_1_1_render_system.html#a77766da49c29112c390fde51069f543a" title="Tell the rendersystem to perform any prep tasks it needs to directly before other threads which might...">Ogre::RenderSystem::preExtraThreadsStarted</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
